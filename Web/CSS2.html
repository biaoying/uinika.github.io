<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#8C634F">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png">
  <link rel="mask-icon" href="/images/favicon.png" color="#8C634F">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic|Monda:300,300italic,400,400italic,700,700italic|Source+Code+Pro:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"uinika.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"flat"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":true,"color":"#A38272","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":true},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="本文详细参考网易 NEC 前端开源项目、《CSS Mastery》、Mozilla 开发者社区，将 CSS 2.1 当中常用的概念与典型布局进行了比较全面的梳理与概括，并对定位、居中、外边距塌陷、包含块、多列布局等较易混淆的内容，进行了详实的文字说明与代码示例。在涵盖日常开发当中经典布局的同时，也加入了 HTML&#x2F;CSS 渲染的重绘与回流等更为深入的主题，是笔者 Web 前端开发工作经验的回顾与总">
<meta property="og:type" content="article">
<meta property="og:title" content="CSS 2.1 典型概念与布局详解">
<meta property="og:url" content="https://uinika.github.io/Web/CSS2.html">
<meta property="og:site_name" content="Bit by bit">
<meta property="og:description" content="本文详细参考网易 NEC 前端开源项目、《CSS Mastery》、Mozilla 开发者社区，将 CSS 2.1 当中常用的概念与典型布局进行了比较全面的梳理与概括，并对定位、居中、外边距塌陷、包含块、多列布局等较易混淆的内容，进行了详实的文字说明与代码示例。在涵盖日常开发当中经典布局的同时，也加入了 HTML&#x2F;CSS 渲染的重绘与回流等更为深入的主题，是笔者 Web 前端开发工作经验的回顾与总">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://uinika.github.io/Web/CSS2/logo.png">
<meta property="og:image" content="https://uinika.github.io/Web/CSS2/boxmodel.png">
<meta property="og:image" content="https://uinika.github.io/Web/CSS2/float-1.png">
<meta property="og:image" content="https://uinika.github.io/Web/CSS2/float-2.png">
<meta property="og:image" content="https://uinika.github.io/Web/CSS2/containing-block-1.png">
<meta property="og:image" content="https://uinika.github.io/Web/CSS2/containing-block-2.png">
<meta property="og:image" content="https://uinika.github.io/Web/CSS2/containing-block-3.png">
<meta property="og:image" content="https://uinika.github.io/Web/CSS2/containing-block-4.png">
<meta property="og:image" content="https://uinika.github.io/Web/CSS2/containing-block-5.png">
<meta property="og:image" content="https://uinika.github.io/Web/CSS2/repaint-reflow.png">
<meta property="og:image" content="https://uinika.github.io/Web/CSS2/layout-1-1.png">
<meta property="og:image" content="https://uinika.github.io/Web/CSS2/layout-1-2.png">
<meta property="og:image" content="https://uinika.github.io/Web/CSS2/layout-1-3.png">
<meta property="og:image" content="https://uinika.github.io/Web/CSS2/layout-2-1.png">
<meta property="og:image" content="https://uinika.github.io/Web/CSS2/layout-2-2.png">
<meta property="og:image" content="https://uinika.github.io/Web/CSS2/layout-2-3.png">
<meta property="og:image" content="https://uinika.github.io/Web/CSS2/layout-2-4.png">
<meta property="og:image" content="https://uinika.github.io/Web/CSS2/layout-3-1.png">
<meta property="og:image" content="https://uinika.github.io/Web/CSS2/layout-3-2.png">
<meta property="og:image" content="https://uinika.github.io/Web/CSS2/layout-3-3.png">
<meta property="og:image" content="https://uinika.github.io/Web/CSS2/vertical-center-1.png">
<meta property="og:image" content="https://uinika.github.io/Web/CSS2/vertical-center-2.gif">
<meta property="og:image" content="https://uinika.github.io/Web/CSS2/vertical-center-3.png">
<meta property="og:image" content="https://uinika.github.io/Web/CSS2/vertical-center-4.png">
<meta property="og:image" content="https://uinika.github.io/Web/CSS2/vertical-center-5.png">
<meta property="og:image" content="https://uinika.github.io/Web/CSS2/text-align.png">
<meta property="article:published_time" content="2020-05-21T13:39:03.798Z">
<meta property="article:modified_time" content="2020-05-21T13:39:03.798Z">
<meta property="article:author" content="Hank">
<meta property="article:tag" content="CSS">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://uinika.github.io/Web/CSS2/logo.png">

<link rel="canonical" href="https://uinika.github.io/Web/CSS2.html">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>CSS 2.1 典型概念与布局详解 | Bit by bit</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Bit by bit" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Bit by bit</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Electronics, Embedded & Web</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-th-large"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档<span class="badge">52</span></a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签<span class="badge">21</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-briefcase"></i>分类<span class="badge">11</span></a>

  </li>
        <li class="menu-item menu-item-it圈">

    <a href="/industry/" rel="section"><i class="fa fa-fw fa-microchip"></i>IT圈</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/uinika" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://uinika.github.io/Web/CSS2.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Hank">
      <meta itemprop="description" content="My world of IT, learn it & play it.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bit by bit">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          CSS 2.1 典型概念与布局详解
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-05-21 21:39:03" itemprop="dateCreated datePublished" datetime="2020-05-21T21:39:03+08:00">2020-05-21</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Web/" itemprop="url" rel="index"><span itemprop="name">Web</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>19k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>18 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>本文详细参考<a href="http://nec.netease.com/" target="_blank" rel="noopener">网易 NEC 前端开源项目</a>、<a href="https://www.apress.com/cn/book/9781430223979" target="_blank" rel="noopener">《CSS Mastery》</a>、<a href="https://developer.mozilla.org/en-US/docs/Web/CSS" target="_blank" rel="noopener">Mozilla 开发者社区</a>，将 <strong>CSS 2.1</strong> 当中常用的概念与典型布局进行了比较全面的梳理与概括，并对<code>定位</code>、<code>居中</code>、<code>外边距塌陷</code>、<code>包含块</code>、<code>多列布局</code>等较易混淆的内容，进行了详实的文字说明与代码示例。在涵盖日常开发当中经典布局的同时，也加入了 HTML/CSS 渲染的重绘与回流等更为深入的主题，是笔者 Web 前端开发工作经验的回顾与总结。</p>
<p><img src="/Web/CSS2/logo.png"></p>
<p><strong>CSS</strong> 层叠样式表（<em>Cascading Stylesheet</em>）用于指定浏览器所渲染的样式（<em>如颜色、定位、装饰</em>），距离 2011 年 <strong>CSS 2.1</strong> 版本发布至今，已经整整过去<strong>6</strong>个年头，浏览器和前端技术经历了日新月异的变化。虽然目前 <strong>CSS 3.0</strong> 规范在选择器、弹性盒模型、动画与过渡方面进行了诸多增强，但是 <a href="https://www.w3.org/" target="_blank" rel="noopener">W3C 规范</a>始终保持着一致的继承性，所以 <strong>CSS 2.1</strong> 及之前版本规范中提出的大量特性与概念依旧得以沿用。</p>
<a id="more"></a>
<h2 id="层叠优先级">层叠优先级</h2>
<p>浏览器通过层叠样式表的<strong>优先级</strong>判断哪些 CSS 属性值与 HTML 元素相关，当 HTML 元素同时拥有多个 CSS 声明时，每条高优先级的 CSS 规则都会<strong>覆盖</strong>低优先级规则。</p>
<blockquote>
<p>CSS 层叠样式表的优先级是一种<strong>权重</strong>，当多个 CSS 优先级权重相同时，<strong>声明位置最后</strong>的那个声明将会被应用。</p>
</blockquote>
<h3 id="声明位置的优先级">声明位置的优先级</h3>
<p>按照样式<strong>声明与定义位置</strong>的不同，优先级<strong>由高向低</strong>排列如下：</p>
<ol type="1">
<li>行内样式：<code>&lt;span style=""&gt;</code></li>
<li>内嵌样式：<code>&lt;style&gt;&lt;/style&gt;</code></li>
<li>外部样式：<code>&lt;link href="demo.css" rel="stylesheet" /&gt;</code></li>
</ol>
<h3 id="选择器类型的优先级">选择器类型的优先级</h3>
<p>按照所使用<strong>CSS 选择器</strong>的不同，优先级<strong>由高向低</strong>排列如下：</p>
<ol type="1">
<li>ID 选择器（<code>#example</code>）</li>
<li>类选择器（<code>.example</code>），属性选择器（<code>[type="radio"]</code>），伪类选择器（<code>:hover</code>）</li>
<li>类型选择器（<code>h1</code>）和 伪元素选择器（<code>::before</code>）</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"p"</span> <span class="attr">class</span>=<span class="string">"p"</span>&gt;</span></span><br><span class="line">  Color is blue!</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">  p &#123;</span><br><span class="line">    color: red !important;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-class">.p</span> &#123;</span></span><br><span class="line">    color: green !important;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-id">#p</span> &#123;</span></span><br><span class="line">    color: blue !important;</span><br><span class="line">  &#125; // 优先级最高</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>通用选择器（<code>*</code>）、组合选择器（<em><code>+, &gt;, ~, ' '</code></em>）*</p>
</blockquote>
<h3 id="not-伪类的优先级">:not 伪类的优先级</h3>
<p>否定伪类选择器<code>:not()</code>本身对优先级没有影响，但是<code>:not()</code><strong>内部声明的选择器</strong>会影响到层叠的优先级。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"outer"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Color is orange !<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"inner"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Color is yellow !<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">div</span><span class="selector-class">.outer</span> <span class="selector-tag">p</span> &#123;</span></span><br><span class="line">    color: orange;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-tag">div</span><span class="selector-pseudo">:not(.outer)</span> <span class="selector-tag">p</span> &#123;</span></span><br><span class="line">    color: yellow;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="important-优先级">！important 优先级</h3>
<p>两条相互冲突的<code>!important</code>规则被应用到相同 HTML 元素时，拥有更大优先级的声明将会被采用。<code>!important</code>会破坏 CSS 固有的级联规则，为调试和 debug 带来困难，因此应尽量考虑使用样式规则的优先级去解决问题，通过更好的利用 CSS 级联属性，或者使用更加<strong>具体</strong>的选择器，去获得更高的优先级。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">article</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">section</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Color is yellow!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">  article &#123;</span><br><span class="line">    color: red !important;</span><br><span class="line">  &#125;</span><br><span class="line">  section &#123;</span><br><span class="line">    color: green !important;</span><br><span class="line">  &#125;</span><br><span class="line">  p &#123;</span><br><span class="line">    color: blue !important;</span><br><span class="line">  &#125;</span><br><span class="line">  article section p &#123;</span><br><span class="line">    color: yellow !important;</span><br><span class="line">  &#125; // 优先级最高</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>如果需要覆盖<code>!important</code>，可以再添加一条优先级更高的<code>!important</code>即可。</p>
</blockquote>
<h3 id="更加详细选择器的优先级">更加详细选择器的优先级</h3>
<p>CSS 选择器越详细，其对应的优先级就越高。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"demo"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"text"</span>&gt;</span>Text<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">div</span><span class="selector-id">#demo</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line">    color: green;</span><br><span class="line">  &#125; // 最终生效的样式</span><br><span class="line"><span class="css">  <span class="selector-id">#text</span> &#123;</span></span><br><span class="line">    color: red;</span><br><span class="line">  &#125;</span><br><span class="line">  div span &#123;</span><br><span class="line">    color: blue;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="基于选择器形式的优先级">基于选择器形式的优先级</h3>
<p>优先级总是基于选择器的类型进行计算的，下面代码尽管<code>*[id="demo"]</code>选择了<strong>ID</strong>，但是依然会作为<em>属性选择器</em>去计算自身的优先级。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#demo</span> &#123;</span><br><span class="line">  color: green; // 最终生效的样式</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">*<span class="selector-attr">[id=<span class="string">"demo"</span>]</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: purple;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="忽略-css-选择器在-dom-当中的实际距离">忽略 CSS 选择器在 DOM 当中的实际距离</h3>
<p>实际 DOM 中的<strong>距离</strong>或<strong>深度</strong>，并不计入 CSS 层叠样式权重的考量。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Color is purple!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">  body h1 &#123;</span><br><span class="line">    color: green;</span><br><span class="line">  &#125;</span><br><span class="line">  html h1 &#123;</span><br><span class="line">    color: purple; // 最终生效的样式</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="直接的目标元素样式与从父元素继承的样式">直接的目标元素样式与从父元素继承的样式。</h3>
<p>直接向目标元素添加的样式，其优先级总是<strong>高于</strong>从父元素继承的样式。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span> <span class="attr">id</span>=<span class="string">"parent"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Color is purple!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-id">#parent</span> &#123;</span></span><br><span class="line">    color: green;</span><br><span class="line">  &#125;</span><br><span class="line">  h1 &#123;</span><br><span class="line">    color: purple; // 最终生效的样式</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="样式继承">样式继承</h3>
<p>每个 CSS 属性值都会指明其是否可以继承，以便在没有手动为 HTML 元素指定样式值时，该元素默认应该使用哪个样式。</p>
<ul>
<li>可继承 CSS 属性（<em>inherited property</em>）：未指定值时，取父元素同属性的计算值（<em>computed value</em>）。</li>
<li>非继承 CSS 属性（<em>reset property</em>）：未指定值时，取该属性的初始值（<em>initial value</em>）。</li>
</ul>
<p>所有 CSS 属性都可以使用如下 2 个值：</p>
<ol type="1">
<li><code>inherit</code>：让该 CSS 元素值去继承父元素同名 CSS 属性的计算值。</li>
<li><code>initial</code>：将被父元素覆盖的属性值重置为该 CSS 属性的默认值。</li>
</ol>
<h3 id="important">!important</h3>
<p>使用<code>!important</code>规则的样式声明将会覆盖其它任何声明，如果两条带有<code>!important</code>规则的声明被应用到相同 HTML 元素上，拥有更高优先级的声明将会被采用。</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background</span>: red <span class="meta">!important</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>不要在全站、插件当中使用<code>!important</code>，尽量只在局部页面需要覆写的情况下使用。</p>
</blockquote>
<h2 id="盒子模型">盒子模型</h2>
<p>每个 HTML 元素都会被 CSS 描述为一个矩形的盒子，每个盒子模型都由<code>content</code><strong>内容</strong>、<code>padding</code><strong>内边距</strong>、<code>border</code><strong>边框</strong>、<code>margin</code><strong>外边距</strong>4 个框所组成。</p>
<p><img src="/Web/CSS2/boxmodel.png"></p>
<blockquote>
<p><code>content</code>内容区域设置的背景、颜色、图片样式会延伸到<code>padding</code>区域。</p>
</blockquote>
<h2 id="可替换-html-元素">可替换 HTML 元素</h2>
<p>HTML 可替换元素（<em>replaced element</em>）的渲染并不由<strong>CSS</strong>控制，某些情况下，CSS 会对可替换元素做特殊处理，比如计算外边距和一些 auto 值。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 典型可替换元素 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> /&gt;</span> <span class="tag">&lt;<span class="name">object</span> /&gt;</span> <span class="tag">&lt;<span class="name">video</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 表单元素 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">textarea</span> /&gt;</span> <span class="tag">&lt;<span class="name">input</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 特殊场景下表现为可替换元素 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">audio</span> /&gt;</span> <span class="tag">&lt;<span class="name">canvas</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>通过 CSS 的<code>content</code>属性插入的 HTML 内容，被称为<strong>匿名可替换元素</strong>（<em>anonymous replaced elements</em>）。</p>
</blockquote>
<h2 id="简写属性">简写属性</h2>
<p>CSS 规范定义简写属性的目的，在于将同一主题的常见属性定义集中在一起，从而编写更简洁、更具可读性的样式表。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* background */</span></span><br><span class="line"><span class="selector-id">#app</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#000</span>;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(images/bg.gif);</span><br><span class="line">  <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">  <span class="attribute">background-position</span>: top right;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#app</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#000</span> <span class="built_in">url</span>(images/bg.gif) no-repeat top right;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* font */</span></span><br><span class="line"><span class="selector-id">#app</span> &#123;</span><br><span class="line">  <span class="attribute">font-style</span>: italic;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0.8em</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.2</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: Arial, sans-serif;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#app</span> &#123;</span><br><span class="line">  <span class="attribute">font</span>: italic bold <span class="number">0.8em</span>/<span class="number">1.2</span> Arial, sans-serif;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>目前 CSS 可以进行简写的属性如下：</p>
<ul>
<li><code>flex</code></li>
<li><code>list-style</code></li>
<li><code>transition</code> <code>transform</code>,</li>
<li><code>background</code> <code>font</code> <code>margin</code> <code>padding</code></li>
<li><code>border</code> <code>border-top</code> <code>border-right</code> <code>border-bottom</code> <code>border-left</code> <code>border-width</code> <code>border-color</code> <code>border-style</code> <code>border-radius</code></li>
</ul>
<h2 id="块级行内元素">块级/行内元素</h2>
<h3 id="块级元素block-level">块级元素（<em>block-level</em>）</h3>
<p>当 HTML 元素的<code>display</code>属性为<code>block</code>、<code>list-item</code>、<code>table</code>时，该元素就是<strong>块级元素</strong>。块级元素视觉上呈现为竖直排列的<strong>块</strong>，<code>&lt;div&gt;</code>和<code>&lt;p&gt;</code>都是典型的块级元素。</p>
<h3 id="行内元素inline-level">行内元素（<em>inline-level</em>）</h3>
<p>当 HTML 元素的<code>display</code>属性为<code>inline</code>、<code>inline-block</code>、<code>inline-table</code>时，该元素为<strong>行内元素</strong>。视觉上行内元素的内容会逐行进行排列，<strong>文本</strong>和<strong>图片</strong>都是典型的行内级元素。</p>
<h2 id="定位">定位</h2>
<p>CSS 为开发人员提供了 3 种布局方式：<strong>标准文档流</strong>、<strong>定位布局</strong>、<strong>浮动布局</strong>。盒子模型生成之后，浏览器渲染引擎会通过如下属性定位其在文档中的位置。</p>
<h3 id="position-属性">position 属性</h3>
<ul>
<li><p><code>static</code> 元素<strong>遵循</strong>常规文档流，指定元素使用正常的布局行为，即元素在文档常规流中当前的布局位置。此时<code>top</code>、<code>right</code>、<code>bottom</code>、<code>left</code>和<code>z-index</code>属性无效。换而言之，只有当<code>position</code>属性值为<code>非static</code>时，层叠顺序才可以通过<code>z-index</code>属性定义。</p></li>
<li><p><code>relative</code> 元素<strong>遵循</strong>常规文档流，参照自身在常规流中的位置，通过 4 个偏移属性<code>top</code>、<code>right</code>、<code>bottom</code>、<code>left</code>进行定位，但并不会影响常规流中的其它元素。当该元素的<code>z-index</code>不为<code>auto</code>时，这种定位方式会创建一个新的层叠上下文。</p></li>
<li><p><code>fixed</code> 元素<strong>脱离</strong>常规文档流，与<code>absolute</code>属性值类似，但元素的包含块为<code>viewport</code>，常用于设置滚动屏幕时仍固定在相同位置的元素。当该元素的<code>z-index</code>不为<code>auto</code>时，此种定位方式依然会创建一个新的层叠上下文。</p></li>
<li><p><code>absolute</code> 元素<strong>脱离</strong>常规文档流，所以不会为元素预留空间，元素位置将会参照<strong>最近的非 static 定位祖先元素</strong>，如果该祖先元素不存在，则相对于根级容器进行定位。元素的偏移位置不影响常规流中的其它元素，其<code>margin</code>不会与其它边距产生折叠。当该元素的<code>z-index</code>不为<code>auto</code>时，该种定位方式同样会创建一个新的层叠上下文。</p>
<ul>
<li>绝对定位元素的<code>top</code>、<code>right</code>、<code>bottom</code>、<code>left</code>属性未设置时，会紧随在前面的兄弟元素之后，虽然位置上不影响常规流中其它元素，但是该元素会失去其位置并与后继元素发生折叠。</li>
<li>如果同时指定绝对定位元素的<code>top</code>和<code>bottom</code>将会优先采用<code>top</code>；如果同时指定<code>left</code>和<code>right</code>，则优先采用<code>left</code>。</li>
<li>当绝对定位元素的<code>height</code>和<code>width</code>属性值为<code>auto</code>时，会自动计算并填充父元素的宽度。</li>
<li>当同时指定绝对定位元素的<code>top</code>和<code>bottom</code>时，如果<code>height</code>的值为<code>auto</code>，则会填充父元素的<strong>垂直</strong>空间。</li>
<li>当同时指定绝对定位元素的<code>left</code>和<code>right</code>时，如果<code>width</code>的值为<code>auto</code>，则会填充父元素的<strong>水平</strong>空间。</li>
</ul></li>
</ul>
<h3 id="float-属性">float 属性</h3>
<p>元素<strong>脱离</strong>正常的文档流，但是相对于绝对定位，浮动定位依然<strong>保留着部分的流式特性</strong>。HTML 元素设置浮动之后，将会被移出正常的文档流，然后向左或向右平移，直到碰到所处的容器边框或碰到另一个浮动元素。</p>
<ul>
<li><p>发生浮动后的元素允许<strong>文本</strong>、<strong>内联元素</strong>环绕在其旁边，这也是认为其保留部分流式特性的原因所在。</p></li>
<li><p>发生浮动定位时，元素 CSS 属性的<code>position</code>必须为<code>static</code>或<code>relative</code>。</p></li>
<li><p>使用<code>float</code>之后会让元素的<code>display</code>属性体现为<strong>块元素</strong>。</p></li>
<li><p><code>none</code> ：指定的 HTML 元素将不进行浮动。</p></li>
<li><p><code>left</code> ：指定的 HTML 元素将浮动在其所在块容器<strong>左</strong>侧。</p></li>
<li><p><code>right</code>：指定的 HTML 元素将浮动在其所在块容器<strong>右</strong>侧。</p></li>
</ul>
<blockquote>
<p><code>float</code>属性在<code>position: absolute</code>和<code>display: none</code>时不会生效。</p>
</blockquote>
<h3 id="clear-属性">clear 属性</h3>
<p>设置当前 HTML 元素左右侧是否需要清除浮动，需要被清除的浮动是指之前出现在相同<strong>块级格式化上下文</strong>中的浮动。</p>
<ul>
<li><code>none</code>：两侧都<strong>可以</strong>存在浮动元素。</li>
<li><code>left</code>：不允许<strong>左侧</strong>出现浮动元素。</li>
<li><code>right</code>：不允许<strong>右侧</strong>出现浮动元素。</li>
<li><code>both</code>：<strong>两侧</strong>都不允许出现浮动元素。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test1"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test2"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test3"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.test1</span> &#123; <span class="attribute">float</span>: left; &#125;</span><br><span class="line"><span class="selector-class">.test2</span> &#123; <span class="attribute">clear</span>: both; &#125;</span><br><span class="line"><span class="selector-class">.test3</span> &#123; <span class="attribute">float</span>: left; &#125;</span><br><span class="line"><span class="comment">/* 渲染结果 */</span></span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.test1</span> &#123; <span class="attribute">float</span>: left; &#125;</span><br><span class="line"><span class="selector-class">.test2</span> &#123; <span class="attribute">clear</span>: left; &#125;</span><br><span class="line"><span class="selector-class">.test3</span> &#123; <span class="attribute">float</span>: left; &#125;</span><br><span class="line"><span class="comment">/* 渲染结果 */</span></span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.test1</span> &#123; <span class="attribute">float</span>: left; &#125;</span><br><span class="line"><span class="selector-class">.test2</span> &#123; <span class="attribute">clear</span>: right; &#125;</span><br><span class="line"><span class="selector-class">.test3</span> &#123; <span class="attribute">float</span>: left; &#125;</span><br><span class="line"><span class="comment">/* 渲染结果 */</span></span><br><span class="line">1 2</span><br><span class="line">3</span><br></pre></td></tr></table></figure>
<ul>
<li>应用于<strong>浮动元素</strong>时，会将浮动元素的<code>margin</code>移动至所有相关浮动元素<code>margin</code>的下方，这样会影响后面浮动元素的布局，后面的浮动元素的位置无法高于前面的元素。</li>
<li>应用于<strong>非浮动元素</strong>时，会将非浮动元素的<code>border</code>移动至所有相关浮动元素<code>margin</code>的下方，该行为会导致<em>margin collapsing</em>失效。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test1"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test2"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test3"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">div &#123;</span><br><span class="line">  margin: 20px;</span><br><span class="line">  width: 100px;</span><br><span class="line">  height: 100px;</span><br><span class="line">  font-size: 50px;</span><br><span class="line">  background: blue;</span><br><span class="line"><span class="css">  <span class="selector-tag">text-align</span><span class="selector-pseudo">:center</span>;</span></span><br><span class="line">  border: 10px red solid;</span><br><span class="line">&#125;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.test1</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.test2</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: left; <span class="comment">/* 浮动元素 */</span></span><br><span class="line">  <span class="attribute">clear</span>: both;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.test3</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/Web/CSS2/float-1.png" title="clear属性应用于浮动元素"></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.test1</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.test2</span> &#123;</span><br><span class="line">  <span class="attribute">clear</span>: both; <span class="comment">/* 非浮动元素 */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.test3</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/Web/CSS2/float-2.png" title="clear属性应用于非浮动元素"></p>
<h2 id="外边距塌陷">外边距塌陷</h2>
<p>margin 塌陷（<em>margin collapsing</em>）是指 HTML 块元素的顶部 margin 和底部 margin 有时会被折叠为 margin 值最大的外边距，外边距塌陷通常发生在下面 3 种情况：</p>
<ul>
<li>相邻的两个兄弟 HTML 元素之间的 margin 会塌陷。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 两个p元素的margin发生塌陷，渲染出p元素的间隔为30px --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"margin-bottom: 30px;"</span>&gt;</span>该元素的margin-bottom为30px<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"margin-top: 20px;"</span>&gt;</span>该元素的margin-top为20px<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>块级父元素与其第 1 个/最后 1 个子元素</li>
</ul>
<p>如果块级的父 HTML 元素未使用<code>border-top</code>、<code>padding-top</code>、<code>inline</code>、 <code>clear</code>属性（<em>即<code>border-top</code>、<code>padding-top</code>为 0 的时候</em>），此时父元素与第 1 个子元素会发生<strong>上外边距合并</strong>，展现出的外边距将是两者之间<code>margin-top</code>最大的那个。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">section</span> <span class="attr">style</span>=<span class="string">"margin-top: 30px;"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"margin-top: 50px;"</span>&gt;</span></span><br><span class="line">    父子元素的margin-top发生合并，父元素会渲染出子元素50px的margin-top效果</span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>如果块级父元素未使用<code>border</code>、<code>padding</code>、<code>inline</code>、<code>height</code>、<code>min-height</code>、<code>max-height</code>属性，则父元素与最后 1 个子元素将发生<strong>下外边距合并</strong>。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">section</span> <span class="attr">style</span>=<span class="string">"margin-bottom: 15px;"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"margin-bottom: 40px;"</span>&gt;</span></span><br><span class="line">    父子元素的margin-bottom发生塌陷，父元素会渲染出子元素40px的margin-bottom效果</span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>空的块元素</li>
</ul>
<p>如果一个没有内容的<strong>空块级元素</strong>未使用<code>border</code>、<code>padding</code>、<code>inline</code>、<code>height</code>、<code>min-height</code>属性，此时它将会与相临的兄弟元素发生<strong>上下外边距合并</strong>。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 中间div元素的与相邻p元素首先发生margin塌陷，然后两个p元素的margin再次发生塌陷，最终只渲染出间隔30px的两个p元素 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"margin-bottom: 10px;"</span>&gt;</span>该HTML元素与下面元素的margin-bottom为10px<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"margin-top: 5px; margin-bottom: 10px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"margin-top: 30px;"</span>&gt;</span>该HTML元素与上面元素的margin-top为30px<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>当存在一个负值<code>margin</code>时，塌陷后的外边距是两者之和；如果<code>margin</code>都为负值，则取绝对值最大的那个。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 两个div元素发生外边距塌陷，渲染出的div元素间隔距离是20px --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"margin-bottom: -80px;"</span>&gt;</span>该元素的margin-bottom为-80px<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"margin-top: 100px;"</span>&gt;</span>该元素的margin-top为100px<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>即使外边距为 0，这些规则也仍旧生效。</p>
</blockquote>
<h2 id="包含块">包含块</h2>
<p>HTML 元素的尺寸、位置经常受到其包含块（<em>containing block</em>）的影响，通常情况下包含块是其父元素，但特殊情况下并不总是这样，因此必须通过 HTML 元素的<code>position</code>属性来确定其包含块。</p>
<ol type="1">
<li><p>如果<code>position</code>属性是<code>static</code>或<code>relative</code>，包含块就是其父级块元素（<em>例如<code>inline-block</code>、<code>block</code>、<code>list-item</code></em>）或格式化上下文（<em>例如 table 容器、flex 容器、grid 容器、block 容器本身</em>）内容区的边缘组成。</p></li>
<li><p>如果<code>position</code>属性是<code>absolute</code>，包含块就是由距离最近的<code>position</code>属性值<code>非static</code>（<em><code>fixed</code>, <code>absolute</code>, <code>relative</code>, <code>sticky</code></em>）的祖先元素的内边距区的边缘组成。</p></li>
<li><p>如果<code>position</code>属性是<code>fixed</code>，包含块由<strong>viewport</strong>或<strong>页面区域</strong>所组成。</p></li>
<li><p>如果<code>position</code>属性是<code>absolute</code>或<code>fixed</code>，包含块也有可能是由满足下面条件的<strong>最近父元素的内边距区的边缘</strong>组成：</p></li>
</ol>
<ul>
<li>一个非 none 的转换或透视值。</li>
<li>一个将会改变的转换或透视值。</li>
<li>一个非 none 的过滤值，或者一个将会改变的过滤值（<em>仅工作在 Firefox</em>）。</li>
</ul>
<blockquote>
<p>根元素<code>&lt;html&gt;</code>所在的包含块是一个被称为<strong>初始包含块</strong>的矩形区域。</p>
</blockquote>
<p>CSS 属性被赋予一个百分比值的时候，其值由该元素的<strong>包含块</strong>计算而来的。</p>
<ol type="1">
<li>一个 HTML 元素的<code>height</code>、<code>top</code>、<code>bottom</code>属性值由包含块的<code>height</code>属性值计算而来（*如果包含块的<code>height</code>值依赖于其内容，且包含块的<code>position</code>属性值为<code>relative</code>或<code>static</code>，则该 HTML 元素的这些值为<strong>0*</strong>）。</li>
<li>一个 HTML 元素的<code>width</code>、<code>left</code>、<code>right</code>、<code>padding</code>、<code>margin</code>属性由包含块的<code>width</code>属性值来计算而来。</li>
</ol>
<p>接下来的各个例子中的 CSS 样式都统一使用如下 HTML：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">section</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>This is a paragraph!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>下面例子中，因为<code>&lt;p&gt;</code>元素处于静态位置，其临近的祖先 HTML 元素<code>&lt;section&gt;</code>是一个块元素，所以其包含块就是<code>&lt;section&gt;</code>，</p>
<p><img src="/Web/CSS2/containing-block-1.png" title="包含块-Example-1"></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: beige;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">section</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">160px</span>;</span><br><span class="line">  <span class="attribute">background</span>: lightgray;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">50%</span>; <span class="comment">/* == 400px * 50% = 200px */</span></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">25%</span>; <span class="comment">/* == 160px * 25% = 40px  */</span></span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">5%</span>; <span class="comment">/* == 400px *  5% = 20px  */</span></span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">5%</span>; <span class="comment">/* == 400px *  5% = 20px  */</span></span><br><span class="line">  <span class="attribute">background</span>: cyan;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>下面例子中，HTML 元素<code>&lt;p&gt;</code>的包含块是<code>&lt;body&gt;</code>，因为<code>&lt;section&gt;</code>不是块元素且没有建立格式化上下文。</p>
<p><img src="/Web/CSS2/containing-block-2.png" title="包含块-Example-2"></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: beige;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">section</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline;</span><br><span class="line">  <span class="attribute">background</span>: lightgray;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">50%</span>; <span class="comment">/* == half the body's width  */</span></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>; <span class="comment">/* <span class="doctag">Note:</span> a percentage would be 0 */</span></span><br><span class="line">  <span class="attribute">background</span>: cyan;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>下面例子中，元素<code>&lt;p&gt;</code>的包含块是<code>&lt;section&gt;</code>，这是因为<code>&lt;section&gt;</code>的<code>position</code>属性为<code>absolute</code>，<code>&lt;p&gt;</code>的百分比属性值受到包含块<code>&lt;section&gt;</code>的<code>padding</code>值影响，</p>
<p><img src="/Web/CSS2/containing-block-3.png" title="包含块-Example-3"></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: beige;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">section</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">160px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">30px</span> <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">background</span>: lightgray;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">50%</span>; <span class="comment">/* == (400px + 20px + 20px) * 50% = 220px */</span></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">25%</span>; <span class="comment">/* == (160px + 30px + 30px) * 25% = 55px  */</span></span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">5%</span>; <span class="comment">/* == (400px + 20px + 20px) *  5% = 22px  */</span></span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">5%</span>; <span class="comment">/* == (400px + 20px + 20px) *  5% = 22px  */</span></span><br><span class="line">  <span class="attribute">background</span>: cyan;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>下面例子中，元素<code>&lt;p&gt;</code>的<code>position</code>属性为<code>fixed</code>，因此其包含块为<strong>初始化包含块</strong>（<em>屏幕上的 viewport</em>）。因此<code>&lt;p&gt;</code>元素的尺寸会受到浏览器 window 尺寸的影响。</p>
<p><img src="/Web/CSS2/containing-block-4.png" title="包含块-Example-4"></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: beige;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">section</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">480px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">background</span>: lightgray;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">50%</span>; <span class="comment">/* == (50vw - (width of vertical scrollbar))    */</span></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">50%</span>; <span class="comment">/* == (50vh - (height of horizontal scrollbar)) */</span></span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">5%</span>; <span class="comment">/* == (5vw  - (width of vertical scrollbar))    */</span></span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">5%</span>; <span class="comment">/* == (5vw  - (width of vertical scrollbar))    */</span></span><br><span class="line">  <span class="attribute">background</span>: cyan;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>下面例子中，元素<code>&lt;p&gt;</code>的<code>position</code>属性为<code>absolute</code>，因此其包含块为<code>&lt;section&gt;</code>，因为<code>&lt;section&gt;</code>作为临近祖先元素，并且使用了非<code>none</code>的<code>transform</code>属性。</p>
<p><img src="/Web/CSS2/containing-block-5.png" title="包含块-Example-5"></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: beige;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">section</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">160px</span>;</span><br><span class="line">  <span class="attribute">background</span>: lightgray;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">80px</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">50%</span>; <span class="comment">/* == 200px */</span></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">25%</span>; <span class="comment">/* == 40px  */</span></span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">5%</span>; <span class="comment">/* == 20px  */</span></span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">5%</span>; <span class="comment">/* == 20px  */</span></span><br><span class="line">  <span class="attribute">background</span>: cyan;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="重绘与回流">重绘与回流</h2>
<p>讨论本小节内容之前，首先了解一下浏览器对于 HTML 和 CSS 的渲染流程：</p>
<p><img src="/Web/CSS2/repaint-reflow.png"></p>
<ol type="1">
<li>浏览器将获取到的 HTML 代码解析为一颗<strong>DOM 树</strong>，每个 HTML 标签都是 DOM 树的一个节点，根节点是 document 对象。DOM 树包含页面所有 HTML 标签，包括被<code>display:none</code>隐藏以及 JavaScript 动态添加的元素。</li>
<li>浏览器将所有 CSS 样式解析成为一个<strong>样式结构体</strong>，并去掉浏览器不能识别的样式（_例如 IE 会去掉<code>-moz</code>开头的样式，而 Firefox 会去掉<code>_</code>开头的样式_）。</li>
<li>DOM 树与样式结构体会组合构建成为一颗<strong>Render 树</strong>, 不同于 DOM 树，Render 树能够识别样式，树上的每个节点都有拥有自己的样式，并且不会包含隐藏的节点（例如被<code>display:none</code>的节点和<code>&lt;head&gt;</code>节点），因为这些节点不会用于呈现。但是被 <code>visibility:hidden</code>隐藏的元素还是会包含至 Render 树，因为它会占据空间并影响到页面的布局。</li>
<li>当 Render 树构建完毕之后，浏览器就可以根据它进行页面的绘制了。</li>
</ol>
<blockquote>
<p>CSS 2.1 标准当中，Render 树上的每个节点被称为<strong>Box</strong>，即一个具有内外边距、填充、边框、位置的盒子模型。</p>
</blockquote>
<p>当页面元素的<strong>外观</strong>或者<strong>可见性</strong>发生改变的时候（<code>outline</code>、<code>visibility</code>、<code>background</code>、<code>color</code>）会发生<strong>重绘</strong>；当变化涉及到部分或整个页面的<strong>布局</strong>的时候会发生<strong>回流</strong>，浏览器在发生回流的时候会使 Render 树中受影响的部分失效，并重新构造这部分渲染树，完成回流后再<strong>重绘</strong>该部分到屏幕；<strong>重绘</strong>（<em>repaint</em>）与<strong>回流</strong>（<em>reflow</em>）都会对 HTML 页面的渲染性能造成影响。</p>
<p>因为，<strong>回流必然引起重绘，而重绘并不一定引起回流</strong>；所以，解决渲染性能的问题，需要需要明确回流可能会发生的场景：</p>
<ol type="1">
<li>调整窗口大小；</li>
<li>改变文字字体；</li>
<li>增加或移除样式表；</li>
<li>内容发生变化，比如用户在<code>input</code>框中输入文字；</li>
<li>激活 CSS 伪类，比如<code>:hover</code>（<em>在 IE 当中是兄弟结点伪类被激活的时候</em>）；</li>
<li>操作<code>class</code>属性；</li>
<li>JavaScript 脚本操作 DOM；</li>
<li>计算<code>offsetWidth</code>和<code>offsetHeight</code>属性；</li>
<li>设置<code>style</code>属性的值；</li>
</ol>
<p>针对上面回流所发生的场景，接下来讨论如何将回流对页面渲染性能的影响降到最低。</p>
<ol type="1">
<li>最好是通过改变<code>class</code>属性来设置元素样式，并尽可能直接改变目标 DOM 节点的<code>class</code>属性，从而限制回流范围，减少可能影响到的 DOM 节点。</li>
<li>避免在 HTML 元素上面设置多层的内联样式，同样也是一种控制回流范围的有效手段，</li>
<li>如果动画效果应用到<code>position</code>属性为<code>absolute</code>或<code>fixed</code>的元素上，并不会影响其它 HTML 元素的布局，不会造成全部回流。</li>
<li>适当牺牲动画效果的平滑度，去换取更好的 CPU 动画渲染速度。</li>
<li>避免使用<code>table</code>布局，否则可能会因为个别<code>行</code>、<code>列</code>的变化而引发整张表格的回流。</li>
<li>减少 JavaScript 表达式当中对 CSS 的操作次数，避免引发重复的回流操作。</li>
</ol>
<blockquote>
<p>缩上所述，<strong>尽量缩小回流操作的作用范围，并且尽量降低回流操作的运行次数</strong>，是降低回流对页面渲染性能影响的主要思路。</p>
</blockquote>
<p>主流的 Web 浏览器都会对<strong>回流</strong>和<strong>重绘</strong>进行一定的优化，浏览器自身会维护一个队列，并将所有引起回流、重绘的操作放入该队列，等待这些操作积累到一定数量或者经过了一定时间间隔，浏览器就会自动刷新队列并执行一个批处理操作，这样就将多次的回流与重绘变成一次操作。</p>
<p>但是一些获取 HTML 元素样式信息的 JavaScript 方法（<code>offsetTop/Left/Width/Height</code>、<code>scrollTop/Left/Width/Height</code>、<code>clientTop/Left/Width/Height</code>、<code>width/height</code>、<code>getComputedStyle()</code>或者<code>currentStyle</code>），由于需要得到当前具体的样式信息，可能会让浏览器强制刷新当前的渲染队列。</p>
<blockquote>
<p>因此，<strong>减少一些页面样式信息的获取，尽量利用好浏览器的优化策略，也是一种较为重要的优化思路</strong>。</p>
</blockquote>
<h2 id="一列布局">一列布局</h2>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">main</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"column"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>column<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="一列定宽布局">一列定宽布局</h3>
<p><img src="/Web/CSS2/layout-1-1.png" title="一列定宽布局"></p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#app</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="variable">$gray</span>;</span><br><span class="line">  <span class="selector-class">.column</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="variable">$pink</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">400px</span>; <span class="comment">// 宽度使用绝对单位</span></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="一列宽度自适应">一列宽度自适应</h3>
<p><img src="/Web/CSS2/layout-1-2.png" title="一列宽度自适应"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">main</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"column"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>column<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#app</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="variable">$gray</span>;</span><br><span class="line">  <span class="selector-class">.column</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="variable">$pink</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">60%</span>; <span class="comment">// 宽度使用相对单位</span></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="一列宽度居中">一列宽度居中</h3>
<p><img src="/Web/CSS2/layout-1-3.png" title="一列宽度居中"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">main</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"column"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>column<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#app</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="variable">$gray</span>;</span><br><span class="line">  <span class="selector-class">.column</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="variable">$pink</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">60%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto; <span class="comment">// 块元素居中</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="二列布局">二列布局</h2>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">main</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"column-left"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>column-left<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"column-right"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>column-right<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="二列定宽布局">二列定宽布局</h3>
<p><img src="/Web/CSS2/layout-2-1.png" title="二列定宽布局"></p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#app</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="variable">$gray</span>;</span><br><span class="line">  <span class="selector-class">.column-left</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="variable">$cyan</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>; <span class="comment">// 绝对宽度</span></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.column-right</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="variable">$pink</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">400px</span>; <span class="comment">// 绝对宽度</span></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="二列宽度自适应">二列宽度自适应</h3>
<p><img src="/Web/CSS2/layout-2-2.png"></p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#app</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="variable">$gray</span>;</span><br><span class="line">  <span class="selector-class">.column-left</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="variable">$cyan</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">30%</span>; <span class="comment">// 相对宽度</span></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.column-right</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="variable">$pink</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">60%</span>; <span class="comment">// 相对宽度</span></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="二列右侧宽度自适应">二列右侧宽度自适应</h3>
<p><img src="/Web/CSS2/layout-2-3.png"></p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#app</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="variable">$gray</span>;</span><br><span class="line">  <span class="selector-class">.column-left</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="variable">$cyan</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">30%</span>; <span class="comment">// 左栏设置固定值</span></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.column-right</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="variable">$pink</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="comment">// 右栏不设置宽度和浮动</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="二列左侧宽度自适应">二列左侧宽度自适应</h3>
<p><img src="/Web/CSS2/layout-2-4.png"></p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#app</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="variable">$gray</span>;</span><br><span class="line">  <span class="selector-class">.column-left</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="variable">$cyan</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.column-right</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="variable">$pink</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">float</span>: right;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">30%</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>: -<span class="number">30%</span>; <span class="comment">// 负外边距</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<blockquote>
<p><code>负外边距</code>和<code>不设置宽度和浮动</code>都可以用来分别实现<strong>二列左右侧宽度自适应</strong>效果。</p>
</blockquote>
</blockquote>
<h2 id="三列布局">三列布局</h2>
<h3 id="三列中间自适应布局">三列中间自适应布局</h3>
<p><img src="/Web/CSS2/layout-3-1.png"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">main</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"column-left"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>column-left<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"column-middle"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>column-middle<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"column-right"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>column-right<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#app</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="variable">$gray</span>;</span><br><span class="line">  <span class="selector-class">.column-left</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="variable">$cyan</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">350px</span>;</span><br><span class="line">    <span class="attribute">margin-right</span>: -<span class="number">350px</span>; <span class="comment">// 负外边距</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.column-middle</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="variable">$pink</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="comment">// 嵌套div让出左右block的负值外边距</span></span><br><span class="line">    <span class="selector-tag">div</span> &#123;</span><br><span class="line">      <span class="attribute">margin-right</span>: <span class="number">300px</span>;</span><br><span class="line">      <span class="attribute">margin-left</span>: <span class="number">350px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.column-right</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="variable">$blue</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">float</span>: right;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>: -<span class="number">300px</span>; <span class="comment">// 负外边距</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="三列左侧自适应布局">三列左侧自适应布局</h3>
<p><img src="/Web/CSS2/layout-3-2.png"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">main</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"column-left"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>column-left<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"column-right"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>column-right<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 居中内容因为浮动必须放置在DOM结构的最后 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"column-middle"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>column-middle<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#app</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="variable">$gray</span>;</span><br><span class="line">  <span class="selector-class">.column-left</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="variable">$pink</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">margin-right</span>: -<span class="number">650px</span>; <span class="comment">// 设置外边距为负值</span></span><br><span class="line">    <span class="selector-tag">div</span> &#123;</span><br><span class="line">      <span class="attribute">margin-right</span>: <span class="number">650px</span>; <span class="comment">// 补偿负值外边距</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.column-middle</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="variable">$cyan</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">float</span>: right;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">350px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.column-right</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="variable">$blue</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">float</span>: right;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="三列右侧自适应布局">三列右侧自适应布局</h3>
<p><img src="/Web/CSS2/layout-3-3.png"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">main</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"column-left"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>column-left<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"column-middle"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>column-middle<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"column-right"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>column-right<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#app</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="variable">$gray</span>;</span><br><span class="line">  <span class="selector-class">.column-left</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="variable">$blue</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative; <span class="comment">// 将块元素设置为相对定位</span></span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.column-middle</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="variable">$cyan</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">350px</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative; <span class="comment">// 将块元素设置为相对定位</span></span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.column-right</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="variable">$pink</span>;</span><br><span class="line">    <span class="attribute">float</span>: right;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>: -<span class="number">650px</span>; <span class="comment">// 设置外边距为负值</span></span><br><span class="line">    <span class="selector-tag">div</span> &#123;</span><br><span class="line">      <span class="attribute">margin-left</span>: <span class="number">650px</span>; <span class="comment">// 补偿负值外边距</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="圣杯布局">圣杯布局</h2>
<p><a href="https://alistapart.com/article/holygrail" target="_blank" rel="noopener">圣杯布局</a></p>
<h2 id="双飞翼布局">双飞翼布局</h2>
<h2 id="垂直居中">垂直居中</h2>
<p>最早实现垂直居中的技术是通过组合使用<code>position</code>的<code>absolute</code>和<code>relative</code>属性进行偏移和修正，该方式会产生冗余 HTML 标签从而影响页面的语义化，所以笔者并不推荐使用。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"center"</span>&gt;</span></span><br><span class="line">    Center</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$width</span>: <span class="number">500px</span>; <span class="comment">// 居中元素的宽度</span></span><br><span class="line"><span class="variable">$height</span>: <span class="number">300px</span>; <span class="comment">// 居中元素的高度</span></span><br><span class="line"><span class="variable">$offset</span>: <span class="number">50%</span>; <span class="comment">// 偏移</span></span><br><span class="line"><span class="variable">$amend</span>: -<span class="number">50%</span>; <span class="comment">// 修正偏移</span></span><br><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">width</span>: <span class="variable">$width</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="variable">$height</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="variable">$offset</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="variable">$offset</span>;</span><br><span class="line">  <span class="attribute">background</span>: blue;</span><br><span class="line">  <span class="selector-class">.center</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">width</span>: <span class="variable">$width</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="variable">$height</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="variable">$amend</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="variable">$amend</span>;</span><br><span class="line">    <span class="attribute">background</span>: white;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/Web/CSS2/vertical-center-1.png" title="定位相对偏移位置实现垂直居中"></p>
<p>如果知道居中 HTML 元素的<code>width</code>和<code>height</code>尺寸，且不希望使用冗余标签影响页面语义化，可以考虑通过<strong>margin 负值</strong>方便的实现垂直居中。</p>
<p><img src="/Web/CSS2/vertical-center-2.gif" title="基于CSS2绝对定位的简单垂直居中"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"center"</span>&gt;</span></span><br><span class="line">    Center</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">style</span>&gt;</span><br><span class="line"><span class="selector-class">.center</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: -<span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<p><img src="/Web/CSS2/vertical-center-3.png" title="通过表格布局垂直居中"></p>
<p>当不知道居中 HTML 元素的具体尺寸的时候，可以通过<strong>表格定位</strong>实现居中效果。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"center"</span>&gt;</span></span><br><span class="line">      center</span><br><span class="line">    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">table</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="selector-class">.center</span> &#123;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果需要让 HTML 结构更加语义化，可以通过<code>display</code>的<code>table</code>和<code>table-cell</code>属性将上面例子修改成下面这样：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"center"</span>&gt;</span></span><br><span class="line">    Center</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: table;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="selector-class">.center</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: table-cell;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/Web/CSS2/vertical-center-4.png" title="通过影子元素实现垂直居中"></p>
<p>table 的渲染与传统块级元素的渲染略有不同，table 只能扩张到内部嵌套内容的宽度，而块级元素则可以自动扩张到其父级元素的宽度。</p>
<p>CSS2.1 当中最终极和完美的居中技术是通过<strong>影子 HTML 元素</strong>，如果设置其到 100%高度的父元素当中，然后分别设置<code>vertical-align: middle</code>。影子元素并不会影响页面的语义化，因为可以将其设置为一个伪元素（**）。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"center"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Center<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Center<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">background</span>: gray;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.parent</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">""</span>;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.center</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">background</span>: white;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/Web/CSS2/vertical-center-5.png" title="影子元素垂直居中效果"></p>
<h2 id="响应式栅格">响应式栅格</h2>
<h2 id="css-精灵">CSS 精灵</h2>
<h2 id="text-align">text-align</h2>
<p><code>text-align</code>属性用来定义<strong>行内</strong>内容（<em>例如文字</em>）如何相对其块级父元素对齐，该 CSS 属性并不控制块级元素自身的对齐，只控制块级元素内部的行内内容的对齐方式。</p>
<ul>
<li><code>left</code>：行内内容向<strong>左侧</strong>对齐。</li>
<li><code>right</code>：行内内容向<strong>右侧</strong>对齐。</li>
<li><code>center</code>：行内内容<strong>居中</strong>。</li>
<li><code>justify</code>：行内内容向<strong>两端</strong>对齐。</li>
<li><code>start</code>：行内内容对齐<strong>开始</strong>边界，如果文字方向是<em>left-to-right</em>，作用与<code>left</code>属性值相同；如果文字方向是<em>right-to-left</em>，作用与<code>right</code>属性值相同。</li>
<li><code>end</code>：行内内容对齐<strong>结束</strong>边界，如果文字方向是<em>left-to-right</em>，作用与<code>right</code>属性值相同；如果文字方向是<em>right-to-left</em>，作用与<code>left</code>属性值相同。</li>
</ul>
<p><img src="/Web/CSS2/text-align.png" title="text-align不同属性值的行内文字效果"></p>
<h2 id="margin-负值">margin 负值</h2>
<h2 id="line-height">line-height</h2>
<h2 id="vertical-align">vertical-align</h2>
<h2 id="溢出与换行">溢出与换行</h2>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>Hank
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://uinika.github.io/Web/CSS2.html" title="CSS 2.1 典型概念与布局详解">https://uinika.github.io/Web/CSS2.html</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/CSS/" rel="tag"><i class="fa fa-tag"></i> CSS</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/Web/Angularjs.html" rel="prev" title="AngularJS 1.6.x 最佳实践总结">
      <i class="fa fa-chevron-left"></i> AngularJS 1.6.x 最佳实践总结
    </a></div>
      <div class="post-nav-item">
    <a href="/Web/Backbone.html" rel="next" title="为什么认为 Backbone 是现代化前端框架的基石">
      为什么认为 Backbone 是现代化前端框架的基石 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#层叠优先级"><span class="nav-number">1.</span> <span class="nav-text">层叠优先级</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#声明位置的优先级"><span class="nav-number">1.1.</span> <span class="nav-text">声明位置的优先级</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#选择器类型的优先级"><span class="nav-number">1.2.</span> <span class="nav-text">选择器类型的优先级</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#not-伪类的优先级"><span class="nav-number">1.3.</span> <span class="nav-text">:not 伪类的优先级</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#important-优先级"><span class="nav-number">1.4.</span> <span class="nav-text">！important 优先级</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#更加详细选择器的优先级"><span class="nav-number">1.5.</span> <span class="nav-text">更加详细选择器的优先级</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#基于选择器形式的优先级"><span class="nav-number">1.6.</span> <span class="nav-text">基于选择器形式的优先级</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#忽略-css-选择器在-dom-当中的实际距离"><span class="nav-number">1.7.</span> <span class="nav-text">忽略 CSS 选择器在 DOM 当中的实际距离</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#直接的目标元素样式与从父元素继承的样式"><span class="nav-number">1.8.</span> <span class="nav-text">直接的目标元素样式与从父元素继承的样式。</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#样式继承"><span class="nav-number">1.9.</span> <span class="nav-text">样式继承</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#important"><span class="nav-number">1.10.</span> <span class="nav-text">!important</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#盒子模型"><span class="nav-number">2.</span> <span class="nav-text">盒子模型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#可替换-html-元素"><span class="nav-number">3.</span> <span class="nav-text">可替换 HTML 元素</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#简写属性"><span class="nav-number">4.</span> <span class="nav-text">简写属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#块级行内元素"><span class="nav-number">5.</span> <span class="nav-text">块级&#x2F;行内元素</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#块级元素block-level"><span class="nav-number">5.1.</span> <span class="nav-text">块级元素（block-level）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#行内元素inline-level"><span class="nav-number">5.2.</span> <span class="nav-text">行内元素（inline-level）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#定位"><span class="nav-number">6.</span> <span class="nav-text">定位</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#position-属性"><span class="nav-number">6.1.</span> <span class="nav-text">position 属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#float-属性"><span class="nav-number">6.2.</span> <span class="nav-text">float 属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#clear-属性"><span class="nav-number">6.3.</span> <span class="nav-text">clear 属性</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#外边距塌陷"><span class="nav-number">7.</span> <span class="nav-text">外边距塌陷</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#包含块"><span class="nav-number">8.</span> <span class="nav-text">包含块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#重绘与回流"><span class="nav-number">9.</span> <span class="nav-text">重绘与回流</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#一列布局"><span class="nav-number">10.</span> <span class="nav-text">一列布局</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#一列定宽布局"><span class="nav-number">10.1.</span> <span class="nav-text">一列定宽布局</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#一列宽度自适应"><span class="nav-number">10.2.</span> <span class="nav-text">一列宽度自适应</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#一列宽度居中"><span class="nav-number">10.3.</span> <span class="nav-text">一列宽度居中</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二列布局"><span class="nav-number">11.</span> <span class="nav-text">二列布局</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#二列定宽布局"><span class="nav-number">11.1.</span> <span class="nav-text">二列定宽布局</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#二列宽度自适应"><span class="nav-number">11.2.</span> <span class="nav-text">二列宽度自适应</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#二列右侧宽度自适应"><span class="nav-number">11.3.</span> <span class="nav-text">二列右侧宽度自适应</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#二列左侧宽度自适应"><span class="nav-number">11.4.</span> <span class="nav-text">二列左侧宽度自适应</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#三列布局"><span class="nav-number">12.</span> <span class="nav-text">三列布局</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#三列中间自适应布局"><span class="nav-number">12.1.</span> <span class="nav-text">三列中间自适应布局</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#三列左侧自适应布局"><span class="nav-number">12.2.</span> <span class="nav-text">三列左侧自适应布局</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#三列右侧自适应布局"><span class="nav-number">12.3.</span> <span class="nav-text">三列右侧自适应布局</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#圣杯布局"><span class="nav-number">13.</span> <span class="nav-text">圣杯布局</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#双飞翼布局"><span class="nav-number">14.</span> <span class="nav-text">双飞翼布局</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#垂直居中"><span class="nav-number">15.</span> <span class="nav-text">垂直居中</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#响应式栅格"><span class="nav-number">16.</span> <span class="nav-text">响应式栅格</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#css-精灵"><span class="nav-number">17.</span> <span class="nav-text">CSS 精灵</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#text-align"><span class="nav-number">18.</span> <span class="nav-text">text-align</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#margin-负值"><span class="nav-number">19.</span> <span class="nav-text">margin 负值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#line-height"><span class="nav-number">20.</span> <span class="nav-text">line-height</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vertical-align"><span class="nav-number">21.</span> <span class="nav-text">vertical-align</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#溢出与换行"><span class="nav-number">22.</span> <span class="nav-text">溢出与换行</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Hank"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">Hank</p>
  <div class="site-description" itemprop="description">My world of IT, learn it & play it.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">52</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">21</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/uinika" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;uinika" rel="noopener" target="_blank"><i class="fa fa-fw fa-github-alt"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.zhihu.com/people/uinika/posts" title="知乎 → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;uinika&#x2F;posts" rel="noopener" target="_blank"><i class="fa fa-fw fa-quora"></i>知乎</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:uinika@outlook.com" title="Email → mailto:uinika@outlook.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>Email</a>
      </span>
      <span class="links-of-author-item">
        <a href="skype:uinika@outlook.com?call|chat" title="Skype → skype:uinika@outlook.com?call|chat" rel="noopener" target="_blank"><i class="fa fa-fw fa-skype"></i>Skype</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://stackoverflow.com/users/7998979/uinika?tab=profile" title="Stack Overflow → https:&#x2F;&#x2F;stackoverflow.com&#x2F;users&#x2F;7998979&#x2F;uinika?tab&#x3D;profile" rel="noopener" target="_blank"><i class="fa fa-fw fa-stack-overflow"></i>Stack Overflow</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2010 – 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder"><a rel="license noopener" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a></span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">1.5m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">22:39</span>
</div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

  

</body>
</html>
